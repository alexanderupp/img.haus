htmx.on("#uploadform","htmx:beforeRequest",e=>{""==htmx.find("#file_input").value&&htmx.trigger(e.detail.elt,"htmx:abort"),htmx.find("#upload").setAttribute("disabled",!0),htmx.find("#progress").style.display="block",htmx.find("#upload-result").innerHTML="<p>uploading...</p>"}),htmx.on("#uploadform","htmx:afterSettle",e=>{htmx.find("#progress").style.display="none",htmx.find("#progress").style.width="0%",document.body.classList.toggle("alternate");let t=document.querySelector("#upload-result .result");t&&t.addEventListener("focus",e=>{t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),console.log(t.value)})}),htmx.on("#uploadform","htmx:xhr:progress",e=>{htmx.find("#progress").style.width=e.detail.loaded/e.detail.total*100+"%"}),document.body.addEventListener("initIMGHaus",e=>{document.getElementById("file_input").addEventListener("change",function(e){let t=this.files[0];t.size>5242880?(htmx.find("#upload-result").innerHTML="<p>Your image exceeds the file size limit</p>",htmx.find("#upload").setAttribute("disabled",!0)):(htmx.find("#upload").removeAttribute("disabled"),htmx.find("#upload-result").innerHTML="<p></p>",htmx.find("#file_text").innerHTML=t.name)})}),htmx.trigger(document.body,"initIMGHaus");